@page
@model LoginModel
@inject IConfiguration _config
@{
    Layout = "~/Views/Shared/_LoginLayout.cshtml";
    ViewData["Title"] = "Sign In";
}
<!--Main container-->
<div class="container-fluid bg-light p-0 h-100">
    <!--Parent row of body-->
    <div class="row g-0 d-flex justify-content-center align-items-center h-100">
        <!--Image section-->
        <div class="col-lg-7 col-xl-8">
            <div class="image">
                <img src="~/Images/car-engine-1548434.jpg" class="fit-image img-fluid" />
            </div>
        </div>
        <!--Form section-->
        <div class="col-lg-5 col-xl-4">
            <div class="card-body p-md-5 mx-md-4">
                <div class="text-center">
                    <h1 class="mt-1 mb-4 pb-1 text-dark">@_config["ProjectTitle:Name"]</h1>
                </div>
                <!--Login form-->
                <form id="account" method="post">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <!--Username input-->
                    <label class="form-label fw-bold" for="userName">Username</label>
                    <div class="input-group form-outline mb-4">
                        <span class="input-group-text"><i class="fa-solid fa-user-tie text-dark"></i></span>
                        <input type="email" asp-for="Input.Email" id="userName" autocomplete="username" class="form-control"
                               placeholder="username or email address" />
                    </div>
                    <div>
                        <span asp-validation-for="Input.Email" class="text-danger"></span>
                    </div>
                    <!--Password input-->
                    <label class="form-label fw-bold" for="password">Password</label>
                    <div class="input-group form-outline mb-5 position-relative">
                        <span class="input-group-text"><i class="fa fa-key text-dark"></i></span>
                        <input asp-for="Input.Password" autocomplete="new-password" type="password" id="id_password" class="form-control" />
                        <i class="fa-solid fa-eye text-dark" id="togglePassword"></i>
                    </div>
                    <div>
                        <span asp-validation-for="Input.Password" class="text-danger"></span>
                    </div>
                    <!--Submit button-->
                    <div class="form-outline text-center pt-1 mb-2 pb-1">
                        <button class="form-control btn btn-primary text-white p-2 px-4 fw-bold" id="login-submit" type="submit">
                            Sign in
                        </button>
                    </div>
                    <a asp-area="Identity" asp-page="/Account/ForgotPassword">Forgot Password?</a>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    //For toggle password, hide show eye slash button
    const togglePassword = document.querySelector('#togglePassword');
    const password = document.querySelector('#id_password');
    togglePassword.addEventListener('click', function (e) {
        // toggle the type attribute
        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
        password.setAttribute('type', type);
        // toggle the eye slash icon
        this.classList.toggle('fa-eye-slash');
    });
</script>
@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
